{% extends 'base_tw.html' %}
{% load static %}
{% load course_status %}

{% block content %}

<!-- Hero -->
<section id="hero" class="mt-5">
    {% for message in messages %}
    <div class="alert {{ message.tags }} alert-dismissible relative" role="alert">
        <div class="bg-blue-500 text-white my-2 p-4 container mx-auto text-center rounded">
            {{ message }}
        </div>
    </div>
    {% endfor %}
    
    <div class="container flex flex-col-reverse items-center px-6 mx-auto mt-10 space-y-0 md:space-y-0 md:flex-row">
        <div class="flex flex-col mb-32 space-y-12 md:w-1/2">
            <h1 class="text-4xl font-bold text-white text-center md:text-4xl md:text-left"> Your Education, Your
                Choice </h1>
            <h2 class="text-xl font-bold text-gray-800 text-center md:text-xl md:text-left"> Letâ€™s Learn and
                Grow Together </h2>
            <p class="text-center text-gray-800 md:text-left md:max-w-md font-popins"> PI Innovations is
                an organization that provides an outstanding platform to the students and tech enthusiasts all
                over Nepal. PI Innovations seeks to promote, educate and get more Nepalese to explore the field
                of Robotics, Automation, Artificial Intelligence and other various technologies. PI Innovations
                has committed itself to provide practical knowledge and create an environment where our new
                generation would learn skills along with the theoretical knowledge and insights of what they are
                learning. </p>
            <div class="flex justify-center md:justify-start"><a href="/login"
                    class="p-3 px-6 pt-2 text-white bg-red-500 rounded-full baseline hover:bg-red-600">Get
                    Started</a></div>
        </div>
        <div class="md:w-1/2"><img class="rounded-xl p-1" src="{% static 'img/WebsiteOpening.png' %}" alt=""></div>
    </div>
</section>
<!-- Hero Ends -->

<h1 class="text-[50px] font-bold text-black text-center mt-10">Our Events</h1>
<div class="flex flex-wrap gap-2 justify-between mt-10">
    {% for event in events %}
    <!-- College Card -->
    <div class="ring-1 ring-gray-300 hover:border-4 rounded-xl hover:border-blue-300 max-w-md md:w-1/3 lg:w-1/4 mx-auto hover:scale-105 duration-300 mb-4">
        <div class="h-full shadow-xl rounded-lg overflow-hidden">
            <a href="{% url 'event_detail' event.id %}" class="block relative h-48">
                <img alt="{{event.name}}" class="object-cover object-center h-full w-full rounded-t-md"
                    src="{{ event.banner.url }}">
            </a>
            <div class="p-4">
                <a href="{% url 'event_detail' event.id %}" class="block text-lg font-semibold text-gray-800 mb-2"
                    title="{{event.name}}">
                    {{event.name}}
                </a>
                <div class="flex flex-row items-center mb-2">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor" class="w-6 h-6 text-gray-800">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z" />
                    </svg>
                    <h2 class="ml-2 text-md font-light text-gray-800">{{event.scheduled_date}}</h2>
                </div>
                <div class="flex flex-row items-center mb-2">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor" class="w-6 h-6 text-gray-800">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z" />
                    </svg>
                    <h2 class="ml-2 text-md font-light text-gray-800"> AIMS College, Biratnagar, Morang</h2>
                    <div class="block">
                        <a href="{%url 'eventRegister' event.pk%}"
                            class="inline p-2 ml-auto text-white bg-blue-500 rounded-md hover:bg-blue-600">Register</a>
                    </div>
                </div>
                <!-- Pricing and Registration Status Starts-->
                <div class="flex justify-between items-center mt-4">
                    <div class="flex items-center">
                        <div class="p-2 rounded-l-xl bg-green-800 text-white mr-2">
                            Entry Fee
                        </div>
                        <span class="text-base font-semibold text-green-500">Rs.{{event.event_fee}}</span>
                    </div>
                    <div class="flex items-center">
                        <svg class="mr-1 h-4 w-4 fill-current text-gray-500" viewBox="0 0 20 20">
                            <path
                                d="M8 1a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2zm0 4a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2zm0 4a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2zm0 4a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2zm5-7a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2zm0 4a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2zm0 4a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2z">
                            </path>
                        </svg>
                        <p class="text-sm text-gray-800">{{event.seats}} Seats</p>
                    </div>
                </div>
                <!-- Pricing and Reg Status Ends -->
            </div>
        </div>
    </div>
    <!-- College Card Ends -->
    {% endfor %}
</div>

<h1 class="text-black text-[50px] font-bold text-center mt-5">Our Courses</h1>
<div style="margin-bottom: 150px;" class="post-list flex flex-wrap gap-4 mt-10 ">
    {% for course in courses %}
    <div class="ring-1 ring-gray-300 relative max-w-md mx-auto rounded-xl overflow-hidden shadow-md my-2">
        <img class="h-64 w-full object-cover rounded-t-md" src="{{course.image.url}}" alt="{{course.title}}">
        <div class="p-6">
            <h1 class="font-bold mt-5 text-[20px]">{{course.title}}</h1>

            <div class="flex flex-row-reverse">
                <div class="ml-2 uppercase tracking-wide text-sm text-indigo-500 font-semibold">{{course.category}}
                </div>
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.8"
                    stroke="currentColor" data-slot="icon" class="w-6 h-6 text-gray-500">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 6h.008v.008H6V6Z" />
                </svg>
            </div>
            {%if request.user.is_authenticated%}
            <a href="{% if not course|course_status:request.user %}{% url 'accessCourse' course.slug %}{% else %}{% url 'course' course.slug %}{% endif %}"
                class="block mt-4 p-3 bg-green-500 rounded-xl shadow-xl text-lg font-semibold text-white">
                {% if not course|course_status:request.user %}
                Access Course for {{course.required_points}}&#129689;
                {% else %}
                Visit Course
                {% endif %}
            </a>
            {%else%}
            <a href="{%url 'login'%}" class="block mt-4 p-3 bg-red-500 rounded-xl shadow-xl text-lg font-semibold text-white">Login To Continue</a>
            {%endif%}
        </div>
        
    </div>
    {% endfor %}
</div>

{% endblock content %}